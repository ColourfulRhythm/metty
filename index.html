<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Delicious</title>
<link href="https://fonts.googleapis.com/css2?family=Pinyon+Script&family=Jost:wght@300;400&display=swap" rel="stylesheet">
<link rel="preload" as="image" href="images/1U6A5523.jpg.jpeg">
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  :root {
    --blush: #f7c5c5;
    --rose: #e8a0a0;
    --cream: #fff8f3;
    --peach: #fde8d8;
    --mauve: #c9a0a0;
    --text: #7a5555;
    --card-w: min(340px, 88vw);
    --card-h: min(480px, 70vh);
  }

  body {
    background: var(--cream);
    font-family: 'Jost', sans-serif;
    min-height: 100dvh;
    display: flex;
    flex-direction: column;
    align-items: center;
    overflow: hidden;
    position: relative;
    padding-bottom: calc(env(safe-area-inset-bottom) + 48px);
  }

  /* soft background blobs */
  body::before, body::after {
    content: '';
    position: fixed;
    border-radius: 50%;
    filter: blur(80px);
    opacity: 0.45;
    pointer-events: none;
    z-index: 0;
  }
  body::before {
    width: 400px; height: 400px;
    background: var(--blush);
    top: -100px; left: -100px;
  }
  body::after {
    width: 350px; height: 350px;
    background: var(--peach);
    bottom: -80px; right: -80px;
  }

  header {
    position: relative;
    z-index: 2;
    padding: 36px 0 10px;
    text-align: center;
  }

  header h1 {
    font-family: 'Pinyon Script', cursive;
    font-size: clamp(56px, 14vw, 90px);
    color: var(--rose);
    line-height: 1;
    text-shadow: 2px 3px 12px rgba(232,160,160,0.3);
    letter-spacing: 2px;
  }

  header p {
    font-size: 12px;
    letter-spacing: 4px;
    text-transform: uppercase;
    color: var(--mauve);
    font-weight: 300;
    margin-top: 4px;
  }

  /* CARD STACK */
  .stack {
    position: relative;
    z-index: 2;
    width: var(--card-w);
    height: var(--card-h);
    margin-top: 24px;
  }

  .card {
    position: absolute;
    inset: 0;
    border-radius: 28px;
    overflow: hidden;
    cursor: grab;
    user-select: none;
    touch-action: none;
    box-shadow: 0 12px 40px rgba(180,120,120,0.18), 0 2px 8px rgba(180,120,120,0.10);
    transition: box-shadow 0.2s;
    will-change: transform;
  }
  .card:active { cursor: grabbing; }

  .card img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    pointer-events: none;
    display: block;
  }

  /* stacked look for cards beneath */
  .card:nth-child(2) { transform: rotate(3deg) scale(0.97) translateY(6px); z-index: 1; }
  .card:nth-child(3) { transform: rotate(-2deg) scale(0.94) translateY(12px); z-index: 0; }
  .card:nth-child(n+4) { transform: scale(0.91) translateY(18px); z-index: -1; opacity: 0; }

  .card.top { z-index: 10; transform: none !important; }

  /* like / nope indicators */
  .stamp {
    position: absolute;
    top: 28px;
    padding: 6px 16px;
    border-radius: 8px;
    font-family: 'Jost', sans-serif;
    font-size: 22px;
    font-weight: 400;
    letter-spacing: 3px;
    text-transform: uppercase;
    opacity: 0;
    transition: opacity 0.15s;
    pointer-events: none;
  }
  .stamp.love {
    left: 24px;
    color: #e07a7a;
    border: 3px solid #e07a7a;
    transform: rotate(-15deg);
  }
  .stamp.nope {
    right: 24px;
    color: #b0a0a0;
    border: 3px solid #b0a0a0;
    transform: rotate(15deg);
  }

  /* overlay gradient */
  .card-overlay {
    position: absolute;
    bottom: 0; left: 0; right: 0;
    height: 45%;
    background: linear-gradient(to top, rgba(247,197,197,0.55), transparent);
    border-radius: 0 0 28px 28px;
  }

  /* photo number */
  .card-num {
    position: absolute;
    bottom: 18px;
    right: 20px;
    font-size: 11px;
    letter-spacing: 3px;
    color: white;
    text-transform: uppercase;
    font-weight: 300;
  }

  /* action buttons */
  .actions {
    position: relative;
    z-index: 2;
    display: flex;
    gap: 28px;
    margin-top: 28px;
    align-items: center;
  }

  .btn {
    width: 58px; height: 58px;
    border-radius: 50%;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    transition: transform 0.2s, box-shadow 0.2s;
    box-shadow: 0 4px 16px rgba(180,120,120,0.15);
  }
  .btn:hover { transform: scale(1.12); box-shadow: 0 8px 24px rgba(180,120,120,0.25); }
  .btn:active { transform: scale(0.96); }

  .btn-skip { background: white; }
  .btn-love { background: var(--blush); width: 68px; height: 68px; font-size: 26px; }

  /* counter dots */
  .dots {
    position: relative;
    z-index: 2;
    display: flex;
    gap: 7px;
    margin-top: 22px;
  }
  .dot {
    width: 7px; height: 7px;
    border-radius: 50%;
    background: var(--blush);
    transition: background 0.3s, transform 0.3s;
  }
  .dot.active { background: var(--rose); transform: scale(1.4); }

  /* done state */
  .done-msg {
    display: none;
    position: fixed;
    inset: 0;
    z-index: 100;
    background: var(--cream);
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 12px;
  }
  .done-msg.show { display: flex; }
  .done-msg h2 {
    font-family: 'Pinyon Script', cursive;
    font-size: 72px;
    color: var(--rose);
  }
  .done-msg p {
    font-size: 13px;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--mauve);
  }
  .done-msg button {
    margin-top: 16px;
    padding: 12px 32px;
    background: var(--blush);
    border: none;
    border-radius: 100px;
    font-family: 'Jost', sans-serif;
    font-size: 13px;
    letter-spacing: 3px;
    text-transform: uppercase;
    color: var(--text);
    cursor: pointer;
    transition: transform 0.2s;
  }
  .done-msg button:hover { transform: scale(1.05); }
</style>
</head>
<body>

<header>
  <h1>delicious</h1>
  <p>just for you â™¡</p>
</header>

<div class="stack" id="stack"></div>

<div class="actions">
  <button class="btn btn-skip" onclick="swipeCard('left')" title="Next">ðŸ”¥</button>
  <button class="btn btn-love" onclick="swipeCard('right')" title="Love">ðŸ’—</button>
</div>

<div class="dots" id="dots"></div>

<div class="done-msg" id="doneMsg">
  <h2>all yours</h2>
  <p>you're so loved â™¡</p>
  <button onclick="restartApp()">start over</button>
</div>

<script>
  // â”€â”€ SWAP YOUR IMAGES HERE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  // Replace each src with your own image URL or relative file path.
  // Add or remove objects to change the number of cards.
  const photos = [
    { src: 'images/1U6A5523.jpg.jpeg', label: '01' },
    { src: 'images/1U6A5610.jpg.jpeg', label: '02' },
    { src: 'images/1U6A5640.jpg.jpeg', label: '03' },
    { src: 'images/1U6A5645.jpg.jpeg', label: '04' },
  ];
  // â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

  let current = 0;
  let isDragging = false;
  let startX = 0, startY = 0, currentX = 0;
  let topCard = null;

  const stack = document.getElementById('stack');
  const dotsEl = document.getElementById('dots');
  const doneMsg = document.getElementById('doneMsg');

  function buildStack() {
    stack.innerHTML = '';
    dotsEl.innerHTML = '';

    photos.forEach((p, i) => {
      const card = document.createElement('div');
      card.className = 'card' + (i === 0 ? ' top' : '');
      card.dataset.index = i;
      card.innerHTML = `
        <img src="${p.src}" alt="photo ${p.label}" draggable="false">
        <div class="card-overlay"></div>
        <div class="card-num">${p.label} / 0${photos.length}</div>
        <span class="stamp love">love</span>
        <span class="stamp nope">Loved x 20</span>
      `;
      stack.appendChild(card);

      const dot = document.createElement('div');
      dot.className = 'dot' + (i === 0 ? ' active' : '');
      dotsEl.appendChild(dot);
    });

    attachDrag();
  }

  function attachDrag() {
    topCard = stack.querySelector('.card.top');
    if (!topCard) return;

    topCard.addEventListener('mousedown', onStart);
    topCard.addEventListener('touchstart', onStart, { passive: true });
  }

  function onStart(e) {
    isDragging = true;
    const pt = e.touches ? e.touches[0] : e;
    startX = pt.clientX;
    startY = pt.clientY;
    topCard.style.transition = 'none';

    window.addEventListener('mousemove', onMove);
    window.addEventListener('mouseup', onEnd);
    window.addEventListener('touchmove', onMove, { passive: false });
    window.addEventListener('touchend', onEnd);
  }

  function onMove(e) {
    if (!isDragging) return;
    if (e.cancelable) e.preventDefault();
    const pt = e.touches ? e.touches[0] : e;
    currentX = pt.clientX - startX;
    const currentY = pt.clientY - startY;
    const rot = currentX * 0.06;

    topCard.style.transform = `translate(${currentX}px, ${currentY * 0.3}px) rotate(${rot}deg)`;

    const loveStamp = topCard.querySelector('.stamp.love');
    const nopeStamp = topCard.querySelector('.stamp.nope');
    const ratio = Math.min(Math.abs(currentX) / 80, 1);

    if (currentX > 0) {
      loveStamp.style.opacity = ratio;
      nopeStamp.style.opacity = 0;
    } else {
      nopeStamp.style.opacity = ratio;
      loveStamp.style.opacity = 0;
    }
  }

  function onEnd() {
    if (!isDragging) return;
    isDragging = false;

    window.removeEventListener('mousemove', onMove);
    window.removeEventListener('mouseup', onEnd);
    window.removeEventListener('touchmove', onMove);
    window.removeEventListener('touchend', onEnd);

    if (Math.abs(currentX) > 90) {
      const dir = currentX > 0 ? 'right' : 'left';
      flyOut(dir);
    } else {
      // snap back
      topCard.style.transition = 'transform 0.4s cubic-bezier(.175,.885,.32,1.275)';
      topCard.style.transform = '';
      topCard.querySelector('.stamp.love').style.opacity = 0;
      topCard.querySelector('.stamp.nope').style.opacity = 0;
    }
    currentX = 0;
  }

  function flyOut(dir) {
    const xOut = dir === 'right' ? 800 : -800;
    topCard.style.transition = 'transform 0.4s ease, opacity 0.4s ease';
    topCard.style.transform = `translate(${xOut}px, -60px) rotate(${dir === 'right' ? 30 : -30}deg)`;
    topCard.style.opacity = '0';

    setTimeout(() => {
      topCard.remove();
      current++;
      updateDots();
      if (current >= photos.length) {
        showDone();
      } else {
        const newTop = stack.querySelector('.card');
        if (newTop) {
          newTop.style.transition = 'transform 0.35s ease';
          newTop.classList.add('top');
          setTimeout(() => { newTop.style.transition = ''; }, 350);
        }
        attachDrag();
      }
    }, 380);
  }

  function swipeCard(dir) {
    if (!topCard) return;
    flyOut(dir);
  }

  function updateDots() {
    const dots = dotsEl.querySelectorAll('.dot');
    dots.forEach((d, i) => {
      d.classList.toggle('active', i === current);
    });
  }

  function showDone() {
    doneMsg.classList.add('show');
  }

  function restartApp() {
    current = 0;
    doneMsg.classList.remove('show');
    buildStack();
  }

  buildStack();
</script>
</body>
</html>
